<!DOCTYPE html>
<html>
<head>
    <title>èª¿è©¦æ¸¬è©¦é é¢</title>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>
<body>
    <h1>èª¿è©¦æ¸¬è©¦é é¢</h1>
    <div id="log"></div>
    
    <button onclick="joinGame()">åŠ å…¥éŠæˆ²</button>
    <button onclick="startBetting()">é–‹å§‹æŠ•æ³¨</button>
    <button onclick="placeBet()">ä¸‹æ³¨</button>
    <button onclick="announceResult()">å®£å¸ƒçµæœ</button>
    <button onclick="newGame()">æ–°ä¸€è¼ª</button>

    <script>
        const socket = io('http://localhost:3333');
        const log = document.getElementById('log');
        
        function addLog(message) {
            log.innerHTML += '<div>' + new Date().toLocaleTimeString() + ': ' + message + '</div>';
        }
        
        socket.on('connect', () => addLog('âœ… é€£æ¥æˆåŠŸ'));
        socket.on('disconnect', () => addLog('âŒ é€£æ¥æ–·é–‹'));
        
        socket.on('game-state', (data) => addLog('ğŸ® éŠæˆ²ç‹€æ…‹: ' + JSON.stringify(data)));
        socket.on('betting-started', (data) => addLog('ğŸ² æŠ•æ³¨é–‹å§‹: ' + JSON.stringify(data)));
        socket.on('bet-placed', (data) => addLog('ğŸ’° æŠ•æ³¨æˆåŠŸ: ' + JSON.stringify(data)));
        socket.on('game-ended', (data) => addLog('ğŸ‰ éŠæˆ²çµæŸ: ' + JSON.stringify(data)));
        socket.on('new-game-started', (data) => addLog('ğŸ”„ æ–°éŠæˆ²é–‹å§‹: ' + JSON.stringify(data)));
        socket.on('error', (error) => addLog('âŒ éŒ¯èª¤: ' + JSON.stringify(error)));
        
        function joinGame() {
            socket.emit('join-game', 'æ¸¬è©¦ç©å®¶' + Math.floor(Math.random() * 100));
            addLog('ğŸ“¤ ç™¼é€åŠ å…¥éŠæˆ²');
        }
        
        function startBetting() {
            socket.emit('start-betting');
            addLog('ğŸ“¤ ç™¼é€é–‹å§‹æŠ•æ³¨');
        }
        
        function placeBet() {
            socket.emit('place-bet', { choice: 'boy', amount: 1000 });
            addLog('ğŸ“¤ ç™¼é€æŠ•æ³¨');
        }
        
        function announceResult() {
            socket.emit('announce-result', 'boy');
            addLog('ğŸ“¤ ç™¼é€å®£å¸ƒçµæœ');
        }
        
        function newGame() {
            socket.emit('new-game');
            addLog('ğŸ“¤ ç™¼é€æ–°ä¸€è¼ª');
        }
    </script>
</body>
</html>