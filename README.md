# 🥛 林豆漿有沒有GG

一個有趣的線上排名投注遊戲，讓玩家猜測林豆漿是有GG還是沒有GG！

## 🎮 遊戲特色

- **線上多人排名遊戲** - 支援多人同時在線參與
- **自訂投注金額** - 投注金額決定排名，金額越高排名越前
- **獨特排名獎懲系統** - 前幾名平分獎金，後幾名面臨懲罰
- **主持人功能** - 第一個加入的玩家成為主持人，負責宣布結果
- **即時更新** - 使用 WebSocket 技術，所有數據即時同步

## 🚀 快速開始

### 前置需求

- Node.js (建議版本 16+)
- npm 或 yarn

### 安裝與執行

1. **修復 npm 權限問題 (如果遇到)**
   ```bash
   sudo chown -R $(whoami) ~/.npm
   ```

2. **安裝依賴**
   ```bash
   # 安裝後端依賴
   npm install
   
   # 安裝前端依賴
   cd client
   npm install
   cd ..
   ```

3. **啟動應用**
   ```bash
   # 同時啟動後端和前端
   npm run dev
   ```
   
   或分別啟動：
   ```bash
   # 啟動後端 (終端1)
   npm run server
   
   # 啟動前端 (終端2)
   npm run client
   ```

4. **訪問遊戲**
   - 前端: http://localhost:5173
   - 後端 API: http://localhost:3001

## 📱 使用方式

### 加入遊戲
1. 打開遊戲網址
2. 輸入你的暱稱
3. 點擊「加入遊戲」

### 開始遊戲 (主持人)
1. 第一個加入的玩家自動成為主持人
2. 等待其他玩家加入
3. 點擊「開始投注」按鈕

### 投注
1. 選擇你的預測：👦 男生 或 👧 女生
2. 輸入投注金額 (最低 NT$ 100，金額決定排名)
3. 點擊「確認投注」

### 宣布結果 (主持人)
1. 在投注階段結束後
2. 點擊相應的結果按鈕
3. 系統自動計算並分配獎金

### 查看結果
- 查看中獎玩家和獎金分配
- 查看總獎金池
- 主持人可以開始新一輪遊戲

## 🛠 技術架構

### 後端
- **Node.js + Express** - 服務器框架
- **Socket.io** - 即時通訊
- **UUID** - 唯一識別碼生成

### 前端
- **Vue.js 3** - 前端框架
- **TypeScript** - 類型安全
- **Pinia** - 狀態管理
- **Socket.io-client** - 客戶端即時通訊

## 🎯 遊戲規則

1. **加入遊戲**: 玩家輸入暱稱加入遊戲房間
2. **主持人權限**: 第一個加入的玩家成為主持人
3. **投注階段**: 
   - 玩家選擇預測 (男生/女生)
   - 設定投注金額 (最低 100 元，金額決定排名)
   - 可以修改投注直到結果宣布
4. **結果宣布**: 主持人宣布實際結果
5. **排名獎懲系統**: 
   - **6人以上**: 前3名平分所有獎金，後3名懲罰50%投注額
   - **3-5人**: 第1名獲得70%獎金，第2名獲得30%獎金，其他人懲罰30%投注額
   - **少於3人**: 第1名獲得全部獎金，其他人懲罰20%投注額
6. **重新進入**: 玩家可使用相同暱稱重新進入修改選項
7. **新回合**: 主持人可以開始新的遊戲回合

## 🎨 界面預覽

- **簡潔美觀的界面設計**
- **響應式布局，支援手機和電腦**
- **即時統計顯示**
- **動畫效果和視覺反饋**

## 📝 開發筆記

### 專案結構
```
Baby/
├── server/           # 後端代碼
│   └── index.js     # 服務器主程式
├── client/          # 前端代碼
│   ├── src/
│   │   ├── components/  # Vue 組件
│   │   ├── stores/      # Pinia stores
│   │   └── App.vue      # 主組件
│   └── package.json
└── package.json     # 後端依賴
```

### API 事件
- `join-game`: 玩家加入遊戲
- `start-betting`: 開始投注階段
- `place-bet`: 玩家下注
- `announce-result`: 宣布結果
- `game-state`: 遊戲狀態更新
- `bet-placed`: 投注成功
- `game-ended`: 遊戲結束

## 🔧 故障排除

### 常見問題

1. **npm 權限錯誤**
   ```bash
   sudo chown -R $(whoami) ~/.npm
   ```

2. **端口占用**
   - 後端默認端口: 3001
   - 前端默認端口: 5173
   - 可在相應配置文件中修改

3. **連線問題**
   - 確保後端服務器正在運行
   - 檢查防火牆設置
   - 確認端口沒有被其他程序占用

## 📄 授權

此專案僅供學習和娛樂用途。